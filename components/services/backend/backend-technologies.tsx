'use client';

import React, { useEffect, useRef, useState } from 'react';

const BackendTechnologies: React.FC = () => {
  const sectionRef = useRef<HTMLDivElement>(null);
  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-fadeInUp');
            entry.target.classList.remove('opacity-0');
          }
        });
      },
      { threshold: 0.1 }
    );

    if (sectionRef.current) {
      const cards = sectionRef.current.querySelectorAll('.tech-card');
      cards.forEach((card) => observer.observe(card));
    }

    return () => observer.disconnect();
  }, []);

  const technologies = [
    {
      name: 'Node.js',
      description: 'Build scalable server-side applications with JavaScript runtime',
      icon: (
        <svg className="w-12 h-12" viewBox="0 0 24 24" fill="currentColor">
          <path d="M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.073 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.105-0.116,2.105-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.570,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.265-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,0.607c0.143,0.12,0.328,0.184,0.513,0.184c0.26,0,0.504-0.101,0.688-0.295 c0.31-0.333,0.237-0.839-0.15-1.084c-0.506-0.388-1.754-0.816-4.258-0.816v-2.002c0-0.215-0.177-0.382-0.391-0.382 s-0.391,0.167-0.391,0.382v1.976c-2.561,0.207-4.5,1.215-4.5,3.799c0,2.001,1.501,2.666,4.032,3.002c2.728,0.361,3.261,0.585,3.261,1.241 c0,0.747-0.563,1.301-2.265,1.301c-2.119,0-2.979-0.617-3.25-0.807c-0.13-0.092-0.293-0.14-0.456-0.14 c-0.332,0-0.604,0.207-0.604,0.54c0,0.238,0.115,0.445,0.311,0.582c0.436,0.307,1.748,0.816,4.43,0.816v2.002 c0,0.215,0.177,0.382,0.391,0.382s0.391-0.167,0.391-0.382v-1.977C17.953,17.007,19.099,15.807,19.099,13.993z"/>
        </svg>
      ),
      color: 'from-green-600 to-green-400',
    },
    {
      name: 'Python',
      description: 'Versatile language for rapid backend development and data processing',
      icon: (
        <svg className="w-12 h-12" viewBox="0 0 24 24" fill="currentColor">
          <path d="M14.5 0h-5L7 3.5v2.1L4.5 7.5h-2L0 10v4l2.5 2.5h2L7 18.4v2.1L9.5 24h5l2.5-3.5v-2.1L19.5 16.5h2L24 14v-4l-2.5-2.5h-2L17 5.6V3.5L14.5 0zm-1.4 2.2h2.8l1.4 1.4v1.4l-1.4 1.4H13l-1.4-1.4V3.6l1.4-1.4zm-9.2 4.3h2.8l1.4 1.4v1.4L8.7 11.1H5.9L4.5 9.7V8.3l1.4-1.4zm14.2 0h2.8l1.4 1.4v1.4l-1.4 1.4h-2.8l-1.4-1.4V8.3l1.4-1.4zM13 12.8h-2l-1.4 1.4v1.4l1.4 1.4h2l1.4-1.4v-1.4L13 12.8zm-9.2 4.3h2.8l1.4 1.4v1.4l-1.4 1.4H4.5l-1.4-1.4v-1.4l1.4-1.4zm14.2 0h2.8l1.4 1.4v1.4l-1.4 1.4h-2.8l-1.4-1.4v-1.4l1.4-1.4zM12 15.2c-1.7 0-3.1-1.4-3.1-3.1s1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1-1.4 3.1-3.1 3.1z"/>
        </svg>
      ),
      color: 'from-yellow-500 to-blue-500',
    },
    {
      name: 'Express.js',
      description: 'Fast, unopinionated web framework for Node.js',
      icon: (
        <svg className="w-12 h-12" viewBox="0 0 24 24" fill="currentColor">
          <path d="M24 18.588V5.412c0-.78-.637-1.412-1.412-1.412H1.412C.632 4 0 4.632 0 5.412v13.176c0 .78.632 1.412 1.412 1.412h21.176c.775 0 1.412-.633 1.412-1.412zM8.47 11.47l-1.06-1.06L12 5.88l4.59 4.53-1.06 1.06L12 8l-3.53 3.47zm0 1.06L12 16l3.53-3.47 1.06 1.06L12 18.12l-4.59-4.53 1.06-1.06z"/>
        </svg>
      ),
      color: 'from-gray-800 to-gray-600',
    },
    {
      name: 'Django',
      description: 'High-level Python web framework for rapid development',
      icon: (
        <svg className="w-12 h-12" viewBox="0 0 24 24" fill="currentColor">
          <path d="M11.146 0h3.924v18.16c-.733.352-1.527.528-2.364.528-1.141 0-2.19-.31-3.098-.877L11.146 0zm4.918 2.582v9.12c1.637.594 2.88 1.505 3.712 2.736.832-1.23 2.075-2.142 3.712-2.736V2.582h-3.712zm3.712 10.98c-1.637-.594-2.88-1.505-3.712-2.736-.832 1.23-2.075 2.142-3.712 2.736v9.12h3.712v-9.12z"/>
        </svg>
      ),
      color: 'from-green-700 to-green-500',
    },
    {
      name: 'PostgreSQL',
      description: 'Advanced open-source relational database system',
      icon: (
        <svg className="w-12 h-12" viewBox="0 0 24 24" fill="currentColor">
          <path d="M23.5597 15.6998C23.5597 15.6998 23.2797 15.4298 22.9997 15.1498C22.9997 15.1498 22.7197 14.8698 22.4397 14.5898C22.1597 14.3098 21.8797 14.0298 21.5997 13.7498C21.3197 13.4698 21.0397 13.1898 20.7597 12.9098C20.4797 12.6298 20.1997 12.3498 19.9197 12.0698C19.6397 11.7898 19.3597 11.5098 19.0797 11.2298C18.7997 10.9498 18.5197 10.6698 18.2397 10.3898C17.9597 10.1098 17.6797 9.8298 17.3997 9.5498C17.1197 9.2698 16.8397 8.9898 16.5597 8.7098C16.2797 8.4298 15.9997 8.1498 15.7197 7.8698C15.4397 7.5898 15.1597 7.3098 14.8797 7.0298C14.5997 6.7498 14.3197 6.4698 14.0397 6.1898C13.7597 5.9098 13.4797 5.6298 13.1997 5.3498C12.9197 5.0698 12.6397 4.7898 12.3597 4.5098C12.0797 4.2298 11.7997 3.9498 11.5197 3.6698C11.2397 3.3898 10.9597 3.1098 10.6797 2.8298C10.3997 2.5498 10.1197 2.2698 9.8397 1.9898C9.5597 1.7098 9.2797 1.4298 8.9997 1.1498C8.7197 0.8698 8.4397 0.5898 8.1597 0.3098C7.8797 0.0298 7.5997 -0.2502 7.3197 -0.5302C7.0397 -0.8102 6.7597 -1.0902 6.4797 -1.3702C6.1997 -1.6502 5.9197 -1.9302 5.6397 -2.2102C5.3597 -2.4902 5.0797 -2.7702 4.7997 -3.0502C4.5197 -3.3302 4.2397 -3.6102 3.9597 -3.8902C3.6797 -4.1702 3.3997 -4.4502 3.1197 -4.7302C2.8397 -5.0102 2.5597 -5.2902 2.2797 -5.5702C1.9997 -5.8502 1.7197 -6.1302 1.4397 -6.4102C1.1597 -6.6902 0.8797 -6.9702 0.5997 -7.2502C0.3197 -7.5302 0.0397 -7.8102 -0.2403 -8.0902C-0.5203 -8.3702 -0.8003 -8.6502 -1.0803 -8.9302C-1.3603 -9.2102 -1.6403 -9.4902 -1.9203 -9.7702C-2.2003 -10.0502 -2.4803 -10.3302 -2.7603 -10.6102C-3.0403 -10.8902 -3.3203 -11.1702 -3.6003 -11.4502C-3.8803 -11.7302 -4.1603 -12.0102 -4.4403 -12.2902C-4.7203 -12.5702 -5.0003 -12.8502 -5.2803 -13.1302C-5.5603 -13.4102 -5.8403 -13.6902 -6.1203 -13.9702C-6.4003 -14.2502 -6.6803 -14.5302 -6.9603 -14.8102C-7.2403 -15.0902 -7.5203 -15.3702 -7.8003 -15.6502C-8.0803 -15.9302 -8.3603 -16.2102 -8.6403 -16.4902C-8.9203 -16.7702 -9.2003 -17.0502 -9.4803 -17.3302C-9.7603 -17.6102 -10.0403 -17.8902 -10.3203 -18.1702C-10.6003 -18.4502 -10.8803 -18.7302 -11.1603 -19.0102C-11.4403 -19.2902 -11.7203 -19.5702 -12.0003 -19.8502C-12.2803 -20.1302 -12.5603 -20.4102 -12.8403 -20.6902C-13.1203 -20.9702 -13.4003 -21.2502 -13.6803 -21.5302C-13.9603 -21.8102 -14.2403 -22.0902 -14.5203 -22.3702C-14.8003 -22.6502 -15.0803 -22.9302 -15.3603 -23.2102C-15.6403 -23.4902 -15.9203 -23.7702 -16.2003 -24.0502"/>
        </svg>
      ),
      color: 'from-blue-600 to-blue-400',
    },
    {
      name: 'MongoDB',
      description: 'NoSQL database for modern applications',
      icon: (
        <svg className="w-12 h-12" viewBox="0 0 24 24" fill="currentColor">
          <path d="M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.514 3.682-4.514 5.51 0 1.622.916 2.295 1.573 2.954 1.095 1.095 2.174 2.174 2.174 3.837 0 1.662-1.48 3.077-3.26 3.077-1.78 0-2.738-1.415-2.738-2.738 0-1.323.958-2.738 2.738-2.738.28 0 .495.04.715.065.157-1.415.785-2.738 1.78-3.837C8.74 3.84 3.777 3.802 1.64 7.036c-2.137 3.233-.918 8.27 1.78 10.55 2.697 2.28 6.644 2.697 9.23 2.697 4.573 0 8.27-2.137 10.55-5.58 1.78-2.697 2.137-6.644 1.264-10.55-.436-1.78-1.095-3.077-1.78-4.252-.28.495-.53.954-.735 1.44z"/>
        </svg>
      ),
      color: 'from-green-600 to-green-400',
    },
  ];

  return (
    <section
      id="technologies"
      ref={sectionRef}
      className="py-20 bg-gradient-to-b from-white to-gray-50"
    >
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <div className="text-center mb-16">
          <h2 className="text-4xl md:text-5xl font-bold text-[#001f54] mb-4">
            Backend Technologies We Use
          </h2>
          <p className="text-xl text-gray-600 max-w-2xl mx-auto">
            We leverage powerful backend frameworks and databases to build robust server-side solutions
          </p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {technologies.map((tech, index) => (
            <div
              key={index}
              className="tech-card opacity-0 bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 group cursor-pointer"
              onMouseEnter={() => setHoveredIndex(index)}
              onMouseLeave={() => setHoveredIndex(null)}
            >
              <div className={`inline-flex p-4 rounded-xl bg-gradient-to-br ${tech.color} text-white mb-6 group-hover:scale-110 transition-transform duration-500 shadow-lg`}>
                {tech.icon}
              </div>
              <h3 className="text-2xl font-bold text-[#001f54] mb-3 group-hover:text-[#28a745] transition-colors duration-300">
                {tech.name}
              </h3>
              <p className="text-gray-600 leading-relaxed">
                {tech.description}
              </p>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default BackendTechnologies;

